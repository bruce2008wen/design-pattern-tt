## 单例模式

保证一个类仅有一个实例，并提供一个访问它的全局访问点。

单例模式是设计模式中最简单的形式之一。这一模式的目的是使得类的一个对象成为系统中的唯一实例。。

### 单例模式分析

一个全局变量使得一个对象可以被访问，但它不能防止实例化多个对象。
一个更好的办法是，让类自身负责保存它的唯一实例。这个类可以保证没有其他实例可以被创建（通过截取创建新对象的请求），并且它可以提供一个访问该实例的方法。这就是Singleton模式。

单例模式一般通过提供私有化构造函数【or protected】，该类的静态私有对象属性和静态的公有的函数用于创建或获取它本身的静态私有对象。

**私有化构造函数：**确保该类不能使用**new**关键字实例化对象。【在此类的内部可以】

**静态私有对象属性：**持有此类的唯一实例化对象

**公有的获取实例函数：**创建或获取它本身的静态私有对象。



**单例模式的构建方式：**懒汉式、饿汉式、注册式

https://www.jianshu.com/p/3bfd916f2bb2

https://blog.csdn.net/qq_20545367/article/details/84866648

https://www.runoob.com/design-pattern/singleton-pattern.html

### 优点

1. 在内存里只有一个实例，减少了内存的开销，尤其是频繁的创建和销毁实例（比如管理学院首页页面缓存）。
2. 避免对资源的多重占用（比如写文件操作）。
3. 在类的初始化会占用较多的资源，可避免多次实例化带来的额外开销。
4. 有利于保持数据的一致性，如config。
5. 缩小命名空间，避免污染命名空间。



### 缺点

由于只有一个实例，在并发运行时，需要着重考虑代码的并发安全。

### 使用场景

1、要求生产唯一序列号。

2、计数器，不用每次刷新都在数据库里加一次，用单例先缓存起来。

3、创建的一个对象需要消耗的资源过多，比如 I/O 与数据库的连接等。

4、配置文件



### 代码

略

### 参考

https://blog.csdn.net/qq_34337272/article/details/80706444